<html>
	<head>
		<title>Admin</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
			crossorigin="anonymous"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
		/>
		<link rel="stylesheet" href="/css/common.css" />
	</head>
	<body>
		<div class="container-md text-center p-5">
			<h1>Administrar usuarios</h1>
			<div class="container-md w-75 p-3">
				<div class="container-md align-items-center text-center">
					<table class="table">
						<thead>
							<tr>
								<th>Nombre</th>
								<th>Correo</th>
								<th>Cuenta</th>
								<th>Última conexión</th>
								<th>Cambiar rol</th>
								<th>Eliminar</th>
							</tr>
						</thead>
						<tbody>
							{{#each users}}
								<tr>
									<td>{{this.full_name}}</td>
									<td>{{this.email}}</td>
									<td>{{this.role}}</td>
									<td>{{this.lastLogin}}</td>
									<td><button
											class="btn btn-outline-warning changeRoleButtons"
											data-user-email={{this.email}}
											data-user-role={{this.role}}
										>Cambiar</button></td>
									<td><button
											class="btn btn-outline-danger deleteUserButtons"
											data-user-email={{this.email}}
										>Eliminar</button></td>
								</tr>
							{{/each}}
						</tbody>
					</table>
					<button class="btn btn-success" id="delete-inactive">Borrar
						inactivos 48hrs</button>
				</div>
			</div>
		</div>
		<header class="header">
			<nav
				class="navbar navbar-expand-lg bg-white sticky-top navbar-light p-3 shadow-sm"
			>
				<div class="container">
					<a class="navbar-brand" href="#">
						<strong>Backend</strong></a>
					<button
						class="navbar-toggler"
						type="button"
						data-bs-toggle="collapse"
						data-bs-target="#navbarNavDropdown"
						aria-controls="navbarNavDropdown"
						aria-expanded="false"
						aria-label="Toggle navigation"
					>
						<span class="navbar-toggler-icon"></span>
					</button>
					<div
						class="collapse navbar-collapse"
						id="navbarNavDropdown"
					>

						<ul class="navbar-nav ms-auto">
							<li class="nav-item">
								<a
									class="nav-link mx-2 text-uppercase active"
									aria-current="page"
									href="/products"
								>Productos</a>
							</li>
							<li class="nav-item">
								<a
									class="nav-link mx-2 text-uppercase"
									href="/admin"
								>Dashboard</a>
							</li>
							<li class="nav-item">
								<a
									class="nav-link mx-2 text-uppercase"
									href="/realtimeproducts"
								>Crear productos</a>
							</li>
						</ul>
						<ul class="navbar-nav ms-auto">
							<li class="nav-item">
								<a
									class="nav-link mx-2 text-uppercase"
									href="/carts/{{user.cart}}"
								><i class="bi-cart-fill"></i>
									Carrito</a>
							</li>
							<li class="nav-item">
								<a
									class="nav-link mx-2 text-uppercase"
									href="/"
								><i class="bi-person-circle"></i>
									Cuenta</a>
							</li>
							<li class="nav-item">
								<button
									class="nav-link mx-2 text-uppercase"
									id="logout-button"
								>Cerrar sesión</button>
							</li>
						</ul>
					</div>
				</div>
			</nav>
			<div id="line-below">
			</div>
		</header>
	</body>
	<script src="/js/admin.js"></script>
	<script src="/js/logout.js"></script>
</html>